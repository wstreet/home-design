(this["webpackJsonphome-design"]=this["webpackJsonphome-design"]||[]).push([[0],{120:function(t,e,n){"use strict";n.r(e);var r,i=n(0),o=n.n(i),a=n(12),u=n.n(a),c=(n(84),n(123)),s=n(124),f=n(20),l=n(77);n(93);function p(t){return(p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function y(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=v(t);if(e){var i=v(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m(this,n)}}function m(t,e){return!e||"object"!==p(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var w=Object(l.a)(r=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(a,t);var e,n,r,i=y(a);function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this,t)).edit2dRef=o.a.createRef(),e.resources=f.c.shared.resources,e.pointerDownTarget=0,e.pointerStart=new f.d,e.pointerDiffStart=new f.d,e.diffX=0,e.diffY=0,e}return e=a,(n=[{key:"componentDidMount",value:function(){f.c.shared.add("backgroundFsh","shaders/background.fsh").add("stageFsh","shaders/stage.fsh").load(this.init)}},{key:"onResize",value:function(){var t=window.innerWidth,e=window.innerHeight;this.uniforms.uResolution.x=t,this.uniforms.uResolution.y=e,this.app.view.width=t,this.app.view.height=e,this.app.view.style.width=t+"px",this.app.view.style.height=e+"px"}},{key:"init",value:function(){var t=this;this.initUniforms(),this.initApp(),this.initBackground(),this.initEvents(),this.app.ticker.add((function(){t.uniforms.uPointerDiff.x+=.2*(t.diffX-t.uniforms.uPointerDiff.x),t.uniforms.uPointerDiff.y+=.2*(t.diffY-t.uniforms.uPointerDiff.y)}))}},{key:"initApp",value:function(){var t=window.innerWidth,e=window.innerHeight;this.app=new f.a({view:this.edit2dRef.current,width:t,height:e,transparent:!0,backgroundColor:15790320}),this.app.renderer.autoDensity=!0;var n=this.resources.stageFsh.data,r=new f.b(void 0,n,this.uniforms);this.app.stage.filters=[r]}},{key:"initBackground",value:function(){var t=new f.e;t.width=window.innerWidth,t.height=window.innerHeight;var e=this.resources.backgroundFsh.data,n=new f.b(void 0,e,this.uniforms);t.filters=[n],this.app.stage.addChild(t),this.background=t}},{key:"initEvents",value:function(){var t=this;window.addEventListener("resize",this.onResize),this.app.view.oncontextmenu=function(t){return!1},this.app.view.addEventListener("wheel",(function(e){e.wheelDelta>0?t.uniforms.uGridUnit+=1:t.uniforms.uGridUnit-=1})),this.app.stage.interactive=!0,this.app.stage.on("pointerdown",this.onPointerDown).on("pointerup",this.onPointerUp).on("pointerupoutside",this.onPointerUp).on("pointermove",this.onPointerMove)}},{key:"initUniforms",value:function(){var t=window.innerWidth,e=window.innerHeight;this.uniforms={uResolution:new f.d(t,e),uPointerDiff:new f.d,uPointerDown:this.pointerDownTarget,uGridUnit:50}}},{key:"onPointerDown",value:function(t){var e=t.data.global,n=e.x,r=e.y;this.pointerDownTarget=1,this.pointerStart.set(n,r),this.pointerDiffStart=this.uniforms.uPointerDiff.clone(),this.handleCursor()}},{key:"onPointerUp",value:function(){this.pointerDownTarget=0,this.handleCursor()}},{key:"onPointerMove",value:function(t){var e=t.data.global,n=e.x,r=e.y;this.pointerDownTarget&&(this.diffX=this.pointerDiffStart.x+(n-this.pointerStart.x),this.diffY=this.pointerDiffStart.y+(r-this.pointerStart.y))}},{key:"handleCursor",value:function(){this.pointerDownTarget?this.app.stage.cursor="grabbing":this.app.stage.cursor="default"}},{key:"render",value:function(){return o.a.createElement("canvas",{id:"edit2d",ref:this.edit2dRef})}}])&&h(e.prototype,n),r&&h(e,r),a}(o.a.Component))||r,b=n(127),g=n(126),k=n(125);n(94);function D(t){return(D="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function E(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function P(t,e){return(P=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function S(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=R(t);if(e){var i=R(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return O(this,n)}}function O(t,e){return!e||"object"!==D(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function R(t){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&P(t,e)}(a,t);var e,n,r,i=S(a);function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this,t)).onSelect=function(t){return function(){e.setState({current:t})}},e.state={menus:[{icon:o.a.createElement(b.a,null),name:"\u753b\u6237\u578b",key:"home"},{icon:o.a.createElement(g.a,null),name:"\u505a\u5b9a\u5236",key:"setting"},{icon:o.a.createElement(k.a,null),name:"\u6837\u677f\u95f4",key:"models"}],current:"home"},e}return e=a,(n=[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var t=this,e=this.state,n=e.current,r=e.menus;return o.a.createElement("ul",{className:"left-menu-container"},r.map((function(e){return o.a.createElement("li",{key:e.key,className:"menu-item".concat(e.key===n?" menu-item-active":""),onClick:t.onSelect(e.key)},o.a.createElement("div",{className:"menu-icon"},e.icon),o.a.createElement("div",{className:"menu-name"},e.name))})))}}])&&E(e.prototype,n),r&&E(e,r),a}(o.a.Component),j=(n(97),c.a.Header),x=function(){return o.a.createElement(c.a,null,o.a.createElement(j,{className:"header"},o.a.createElement("h1",{className:"logo"},"\u8bbe\u8ba1\u5bb6"),o.a.createElement(s.a,{mode:"horizontal",defaultSelectedKeys:["2"],className:"tool_bar"},[1,2,3].map((function(t){return o.a.createElement(s.a.Item,{className:"tool_item",key:t},"nav ".concat(t))})))),o.a.createElement(w,null),o.a.createElement(_,null))};u.a.render(o.a.createElement(x,null),document.getElementById("root"))},79:function(t,e,n){t.exports=n(120)},84:function(t,e,n){},93:function(t,e,n){},94:function(t,e,n){},97:function(t,e,n){}},[[79,1,2]]]);
//# sourceMappingURL=main.57ac102a.chunk.js.map